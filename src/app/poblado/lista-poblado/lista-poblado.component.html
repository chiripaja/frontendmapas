<app-card titulo="Lista Centros Poblados">

  <div *ngIf="loading">
    <!-- Barra de progreso visible mientras se cargan los datos -->
    <mat-progress-bar mode="indeterminate" style="margin-bottom: 25px;"></mat-progress-bar>
  </div>
  <mat-form-field>
    <mat-label>Electricidad</mat-label>
    <mat-select [(value)]="selectedElectricidadOption" (selectionChange)="applyFilter()">
      <mat-option value="s">Seleccione</mat-option>
      <mat-option value="si">si</mat-option>
      <mat-option value="no" >no</mat-option>
    </mat-select>
  </mat-form-field>


  <button mat-raised-button  (click)="exportToExcel()" class="botonExportar">
    <mat-icon>table_chart</mat-icon>
    Exportar a Excel
  </button>
  <mat-form-field *ngIf="!loading" class="example-full-width" appearance="outline">
      <mat-label>Ingresa tu busqueda</mat-label>
      <mat-icon matPrefix  class="search-icon">search</mat-icon>
      <input matInput (keyup)="Filter($event)">    
  </mat-form-field>
  <table     
 style="margin-bottom: 4px;"
  mat-table 
  matSort
  [dataSource]="datasource" 
  >
 
     <ng-container matColumnDef="ubigeo">
       <th mat-sort-header mat-header-cell *matHeaderCellDef>ubigeo</th>
       <td mat-cell *matCellDef="let element"> {{element.ubigeo}} </td>
     </ng-container>

     <ng-container matColumnDef="ubigeo_ccpp">
       <th mat-sort-header mat-header-cell *matHeaderCellDef>ubigeo_ccpp</th>
       <td mat-cell *matCellDef="let element"> {{element.ubigeo_ccpp}} </td>
     </ng-container>
   
 
     <ng-container matColumnDef="centro_poblado">
       <th mat-sort-header mat-header-cell *matHeaderCellDef>centro_poblado</th>
       <td mat-cell *matCellDef="let element"> {{element.centro_poblado}} </td>
     </ng-container>
   
     <ng-container matColumnDef="electricidad">
      <th mat-sort-header mat-header-cell *matHeaderCellDef>electricidad</th>
      <td mat-cell *matCellDef="let element"> {{element.electricidad}} </td>
    </ng-container>
    
     <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
     <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
   </table>
  

    <ng-container footer>
      <mat-paginator 
      [pageSizeOptions]="[10,20,50]"
      [showFirstLastButtons]="true"
      >  
      </mat-paginator>
    </ng-container>
    
</app-card>
